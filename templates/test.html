<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KathaSajha - AI Story Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #e63946;
            --secondary: #f1faee;
            --accent: #a8dadc;
            --dark: #1d3557;
            --light: #f8f9fa;
            --nepali-red: #d62d20;
            --nepali-orange: #ff6b35;
            --nepali-gold: #ffbe0b;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #fff9f2;
            color: #333;
        }
        
        .title-text {
            font-weight: 700;
            background: linear-gradient(45deg, var(--nepali-red), var(--nepali-orange), var(--nepali-gold));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        .nepali-pattern-bg {
            background-image: radial-gradient(circle, rgba(214,45,32,0.1) 1px, transparent 1px);
            background-size: 20px 20px;
        }
        
        .story-card {
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border-radius: 12px;
            overflow: hidden;
            transition: transform 0.3s ease;
        }
        
        .story-card:hover {
            transform: translateY(-5px);
        }
        
        .btn-primary {
            background: linear-gradient(45deg, var(--nepali-red), var(--nepali-orange));
            color: white;
            border: none;
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(214, 45, 32, 0.2);
        }
        
        .btn-secondary {
            background: linear-gradient(45deg, var(--nepali-gold), #ffd166);
            color: #333;
            border: none;
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(255, 190, 11, 0.2);
        }
        
        .loading-spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 4px solid var(--nepali-red);
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .story-image {
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .story-image:hover {
            transform: scale(1.02);
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(var(--nepali-red), var(--nepali-orange));
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--nepali-red);
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">
    <!-- Header -->
    <header class="py-6 nepali-pattern-bg">
        <div class="container mx-auto px-4">
            <div class="flex flex-col items-center">
                <h1 class="text-4xl md:text-5xl font-bold mb-2 title-text">KathaSajha <span class="text-3xl">कथा साझा</span></h1>
                <p class="text-lg text-gray-600">Create magical stories with AI</p>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto px-4 py-8">
        <!-- Story Generator Section -->
        <section class="mb-12">
            <div class="max-w-3xl mx-auto bg-white rounded-xl shadow-md overflow-hidden p-6 story-card">
                <h2 class="text-2xl font-semibold mb-4 text-gray-800">Create Your Story</h2>
                <p class="text-gray-600 mb-6">Enter a story idea or prompt below. Our AI will generate a complete story with visuals for you!</p>
                
                <div class="mb-4">
                    <label for="storyPrompt" class="block text-sm font-medium text-gray-700 mb-2">Your Story Idea</label>
                    <textarea 
                        id="storyPrompt" 
                        rows="3" 
                        class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition duration-200"
                        placeholder="Example: A brave girl in the mountains who discovers a hidden valley of talking animals..."
                    ></textarea>
                </div>
                
                <div class="flex flex-wrap gap-4">
                    <button id="generateBtn" class="btn-primary px-6 py-3 rounded-lg font-medium flex items-center">
                        <i class="fas fa-magic mr-2"></i> Generate Story
                    </button>
                    <button id="sampleBtn" class="btn-secondary px-6 py-3 rounded-lg font-medium flex items-center">
                        <i class="fas fa-lightbulb mr-2"></i> Show Example
                    </button>
                </div>
                
                <div id="loadingIndicator" class="mt-6 hidden flex flex-col items-center justify-center py-8">
                    <div class="loading-spinner mb-4"></div>
                    <p class="text-gray-600">Generating your story... This may take a moment.</p>
                </div>
            </div>
        </section>

        <!-- Generated Story Section -->
        <section id="storySection" class="hidden">
            <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-md overflow-hidden p-6 story-card">
                <div class="flex justify-between items-center mb-6">
                    <h2 id="storyTitle" class="text-2xl md:text-3xl font-bold text-gray-800"></h2>
                    <button id="downloadBtn" class="btn-secondary px-4 py-2 rounded-lg font-medium flex items-center">
                        <i class="fas fa-file-pdf mr-2"></i> Download PDF
                    </button>
                </div>
                
                <div id="storyContent" class="prose max-w-none">
                    <!-- Story content will be inserted here -->
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <h3 class="text-xl font-bold">KathaSajha</h3>
                    <p class="text-gray-400">AI-powered story generator</p>
                </div>
                <div class="flex space-x-4">
                    <a href="#" class="text-gray-400 hover:text-white transition duration-200">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-white transition duration-200">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-white transition duration-200">
                        <i class="fab fa-instagram"></i>
                    </a>
                </div>
            </div>
            <div class="mt-6 pt-6 border-t border-gray-700 text-center text-gray-400 text-sm">
                <p>© 2023 KathaSajha. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const generateBtn = document.getElementById('generateBtn');
            const sampleBtn = document.getElementById('sampleBtn');
            const storyPrompt = document.getElementById('storyPrompt');
            const loadingIndicator = document.getElementById('loadingIndicator');
            const storySection = document.getElementById('storySection');
            const storyTitle = document.getElementById('storyTitle');
            const storyContent = document.getElementById('storyContent');
            const downloadBtn = document.getElementById('downloadBtn');
            
            // Sample story data
            const sampleStories = [
                {
                    title: "The Brave Girl in the Mountains",
                    content: `
                        <div class="mb-8">
                            <img src="https://source.unsplash.com/random/800x400/?mountain,girl" alt="Mountain girl" class="w-full h-auto rounded-lg story-image mb-4">
                            <p class="text-lg mb-4">Once upon a time, in the high Himalayas of Nepal, there lived a brave girl named Sunita. At just twelve years old, she was known throughout her village for her courage and quick thinking.</p>
                            <p class="text-lg mb-4">One day, while collecting firewood near the edge of the forest, Sunita heard a strange noise coming from a nearby cave. Against her better judgment, she decided to investigate.</p>
                        </div>
                        <div class="mb-8">
                            <img src="https://source.unsplash.com/random/800x400/?cave,adventure" alt="Mysterious cave" class="w-full h-auto rounded-lg story-image mb-4">
                            <p class="text-lg mb-4">Inside the cave, Sunita discovered a family of snow leopards. The mother leopard was injured and couldn't hunt for her cubs. Sunita knew she had to help.</p>
                            <p class="text-lg mb-4">Every day for two weeks, Sunita secretly brought food from her family's supplies to the leopards. She even used her knowledge of local herbs to treat the mother leopard's wound.</p>
                        </div>
                        <div class="mb-8">
                            <img src="https://source.unsplash.com/random/800x400/?snow-leopard" alt="Snow leopard" class="w-full h-auto rounded-lg story-image mb-4">
                            <p class="text-lg mb-4">When the villagers found out, they were angry at first. But Sunita explained how the leopards were not dangerous if left alone, and how they helped control the population of wild boars that destroyed crops.</p>
                            <p class="text-lg mb-4">Impressed by Sunita's wisdom, the village elders decided to protect the leopards. From that day on, Sunita was known as the "Leopard Guardian," and her story was told for generations.</p>
                        </div>
                    `
                },
                {
                    title: "The Lost Temple of Kathmandu",
                    content: `
                        <div class="mb-8">
                            <img src="https://source.unsplash.com/random/800x400/?kathmandu,temple" alt="Ancient temple" class="w-full h-auto rounded-lg story-image mb-4">
                            <p class="text-lg mb-4">In the heart of Kathmandu, young Raju discovered an ancient map hidden in his grandfather's old chest. The map showed the location of a forgotten temple said to hold a sacred treasure.</p>
                            <p class="text-lg mb-4">With his best friend Anjali, Raju set out to find the temple. They followed clues through narrow alleys, bustling markets, and quiet courtyards where time seemed to stand still.</p>
                        </div>
                        <div class="mb-8">
                            <img src="https://source.unsplash.com/random/800x400/?nepal,market" alt="Kathmandu market" class="w-full h-auto rounded-lg story-image mb-4">
                            <p class="text-lg mb-4">After many adventures, they found the hidden entrance behind an old statue of Ganesh. The temple was overgrown with vines, its intricate wood carvings still visible beneath centuries of dust.</p>
                            <p class="text-lg mb-4">Inside, they discovered not gold or jewels, but something far more valuable - ancient manuscripts containing forgotten knowledge about Nepali history, medicine, and philosophy.</p>
                        </div>
                        <div class="mb-8">
                            <img src="https://source.unsplash.com/random/800x400/?ancient,manuscript" alt="Ancient manuscripts" class="w-full h-auto rounded-lg story-image mb-4">
                            <p class="text-lg mb-4">Raju and Anjali worked with historians to preserve and study the manuscripts. Their discovery helped people understand Nepal's rich cultural heritage in new ways.</p>
                            <p class="text-lg mb-4">The children became local heroes, proving that sometimes the greatest treasures aren't things you can hold in your hand, but knowledge that can be shared with the world.</p>
                        </div>
                    `
                }
            ];
            
            // Generate story function (simulated API call)
            function generateStory(prompt) {
                loadingIndicator.classList.remove('hidden');
                storySection.classList.add('hidden');
                
                // Simulate API delay
                setTimeout(() => {
                    loadingIndicator.classList.add('hidden');
                    
                    // For demo purposes, we'll use sample data
                    // In a real implementation, this would call the Gemini API
                    const randomStory = sampleStories[Math.floor(Math.random() * sampleStories.length)];
                    
                    storyTitle.textContent = randomStory.title;
                    storyContent.innerHTML = randomStory.content;
                    storySection.classList.remove('hidden');
                    
                    // Scroll to the story section
                    storySection.scrollIntoView({ behavior: 'smooth' });
                }, 2500);
            }
            
            // Event listeners
            generateBtn.addEventListener('click', function() {
                if (storyPrompt.value.trim() === '') {
                    alert('Please enter a story idea or prompt');
                    return;
                }
                generateStory(storyPrompt.value);
            });
            
            sampleBtn.addEventListener('click', function() {
                storyPrompt.value = 'A brave girl in the mountains who discovers a hidden valley of talking animals';
                generateStory(storyPrompt.value);
            });
            
            // PDF download functionality
            downloadBtn.addEventListener('click', function() {
                alert('In a real implementation, this would generate a PDF with the story content and images. For this demo, we\'re showing this message instead.');
                // In a real app, you would use a library like jsPDF or html2pdf.js
                // to convert the story content to a downloadable PDF
            });
        });
    </script>
</body>
</html>